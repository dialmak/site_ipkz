<!doctype html><html lang=uk class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Остапчук Віктор"><link href=https://dialmak.github.io/site_ipkz/modbus/modbus/ rel=canonical><link href=../modbus-registers/ rel=prev><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.4"><title>Віддалене керування - Імпульсний перетворювач катодного захисту ІПКЗ</title><link rel=stylesheet href=../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#modbus-rtutcp class=md-skip> Перейти до змісту </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Хедер> <a href=../.. title="Імпульсний перетворювач катодного захисту ІПКЗ" class="md-header__button md-logo" aria-label="Імпульсний перетворювач катодного захисту ІПКЗ" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3 2 12h3v8h14v-8h3zm-.5 15v-4H9l3.5-7v4H15z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Імпульсний перетворювач катодного захисту ІПКЗ </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Віддалене керування </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Перемкнути на темну тему" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Перемкнути на темну тему" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Перемкнути на світлу тему" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Перемкнути на світлу тему" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Пошук placeholder=Пошук autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Шукати> <button type=reset class="md-search__icon md-icon" title=Очистити aria-label=Очистити tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Пошук розпочато </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Навігація data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Імпульсний перетворювач катодного захисту ІПКЗ" class="md-nav__button md-logo" aria-label="Імпульсний перетворювач катодного захисту ІПКЗ" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3 2 12h3v8h14v-8h3zm-.5 15v-4H9l3.5-7v4H15z"/></svg> </a> Імпульсний перетворювач катодного захисту ІПКЗ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../passport/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 12h7v1.5h-7m0-4h7V11h-7m0 3.5h7V16h-7m8-12H3a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2m0 15h-9V6h9"/></svg> <span class=md-ellipsis> Паспорт </span> </a> </li> <li class=md-nav__item> <a href=../../datasheet/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg> <span class=md-ellipsis> Технічний опис та керівництво з експлуатації </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=modbus-rtutcp>Віддалене керування по протоколу <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Remote Terminal Unit">RTU</abbr>/<abbr title="Transmission Control Protocol">TCP</abbr>.</h1> <p>Для взаємодії перетворювача із системами верхнього рівня передбачається передавання інформації по витій парі <abbr title="Recommended Standard - 485">RS-485</abbr> або мережі стільникового зв'язку <abbr title="Global System for Mobile Communications">GSM</abbr>. На програмному рівні замовник може використовувати <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Remote Terminal Unit">RTU</abbr> або <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Transmission Control Protocol">TCP</abbr>/<abbr title="Internet Protocol">IP</abbr> протоколи.</p> <p>При побудові мережі використовується принцип організації ведучий-ведений (master-slave). В мережі повинен бути тільки один ведучий і може бути до 247 ведених. Як ведучий використовується ПК або ПЛК, а як ведені – перетворювачі ІПКЗ. Ініціатором циклів обміну повинен виступати тільки ведучий. Запити ведучого індивідуальні, які адресуються конкретному перетворювачу. Ведені здійснюють передачу даних, відповідаючи на індивідуальні запити ведучого. При виявленні помилок при отриманні запитів або неможливості виконання отриманої команди, ведений генерує повідомлення про помилку або не відповідає.</p> <h2 id=rs-485-modbus-rtu>Мережа <abbr title="Recommended Standard - 485">RS-485</abbr> та <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Remote Terminal Unit">RTU</abbr> протокол.</h2> <p>Для з’єднання на фізичному рівні використовуються мережа <abbr title="Recommended Standard - 485">RS-485</abbr>.</p> <ul> <li>Для стабільності і безпеки зв'язку використовується ізольований прийомопередавач сигналів з ізольованим джерелом живлення.</li> <li>Рівні сигналів відповідають стандарту <abbr title="Electronic Industries Alliance">EIA</abbr>/<abbr title="Telecommunications Industry Association">TIA</abbr> <abbr title="Recommended Standard - 485">RS-485</abbr>, навантаження прийомопередавача 1/8 <abbr title="Unit Load">UL</abbr>.</li> <li>Для узгодження та захисного зміщення сигналів <abbr title="Recommended Standard - 485">RS-485</abbr> передбачені один термінальний та два підтягуючі резистори. Їх можна підключити або відключити через <abbr title="Dual In-line Package">DIP</abbr> перемикачі. Заводське положення термінального та підтягуючих резисторів - відключені.</li> <li>Використовується напівдуплексний режим.</li> <li>Формат кадру обміну даними: <abbr title="Це коротке позначення параметрів формату повідомлень. Цифра 8 це кількість бітів інформації в пакеті, буква N вказує на відсутність контролю чіткості, цифра 1 це кількість стоп-бітів.">8N1</abbr>, 1 старт-біт, 8 біт інформації, 1 стоп-біт, без контролю чіткості.</li> <li><abbr title="Швидкість передачі даних">Бітрейт</abbr> в мережі <abbr title="Recommended Standard - 485">RS-485</abbr> може бути встановлений 4800, 9600, 19200, 38400, 57600 або 115200 baud. Заводське значення 9600 baud.</li> <li>ModBus <abbr title=Ідентифікатор>ID</abbr> адреса сервера кожного перетворювача в одній мережі <abbr title="Recommended Standard - 485">RS-485</abbr> має бути унікальна й встановлена індивідуально в діапазоні від 1 до 247. Заводське значення 1.</li> <li>Програмний рівень передачі пакетів даних відповідає протоколу <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Remote Terminal Unit">RTU</abbr>.</li> </ul> <div class="admonition info"> <p class=admonition-title>Варіанти налаштування бітрейта та <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title=Ідентифікатор>ID</abbr> адреси для мережі <abbr title="Recommended Standard - 485">RS-485</abbr></p> <ul> <li>Вручну використовуючи ручку енкодера та дисплей.</li> <li>За домогогою WEB інтерфейсу.</li> <li>Записом в відповідні регістри <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> через мережу <abbr title="Global System for Mobile Communications">GSM</abbr>.</li> </ul> </div> <h2 id=gsm-modbus-tcpip>Мережа <abbr title="Global System for Mobile Communications">GSM</abbr> та <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Transmission Control Protocol">TCP</abbr>/<abbr title="Internet Protocol">IP</abbr> протокол.</h2> <p>Для з’єднання на фізичному рівні використовуються мережа <abbr title="Global System for Mobile Communications">GSM</abbr>.</p> <ul> <li>Налаштування <abbr title="Global System for Mobile Communications">GSM</abbr> модему та <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Transmission Control Protocol">TCP</abbr>/<abbr title="Internet Protocol">IP</abbr> сервера проводиться відповідно до Додатка 2.</li> <li>На відміну від мережі <abbr title="Recommended Standard - 485">RS-485</abbr> ModBus <abbr title=Ідентифікатор>ID</abbr> адреса сервера перетворювача в мережі <abbr title="Global System for Mobile Communications">GSM</abbr> непотрібна унікальна та може бути довільною від 1 до 247. Але налаштування можливе. Заводське значення 1.</li> <li>Програмний рівень передачі пакетів даних відповідає протоколу <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title="Transmission Control Protocol">TCP</abbr>/<abbr title="Internet Protocol">IP</abbr>.</li> </ul> <div class="admonition info"> <p class=admonition-title>Варіанти налаштування <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> <abbr title=Ідентифікатор>ID</abbr> адреси для мережі <abbr title="Global System for Mobile Communications">GSM</abbr></p> <ul> <li>Вручну використовуючи ручку енкодера та дисплей.</li> <li>За домогогою WEB інтерфейсу.</li> <li>Записом в відповідні регістри <abbr title="Комунікаційний протокол, розроблений компанією Modicon по технології ведучий-ведений">Modbus</abbr> через мережу <abbr title="Recommended Standard - 485">RS-485</abbr>.</li> </ul> </div> <h2 id=modbus-rtutcp_1>Загальний опис регістрів та даних ModBus <abbr title="Remote Terminal Unit">RTU</abbr>/<abbr title="Transmission Control Protocol">TCP</abbr>.</h2> <p>Для читання даних та керування ІПКЗ використовується набір регістрів і функції читання регістрів 3 (<abbr title="Шістнадцятковий формат числа 3">0x03</abbr>) та 4 (<abbr title="Шістнадцятковий формат числа 4">0x04</abbr>), запису в один регістр 6 (<abbr title="Шістнадцятковий формат числа 6">0x06</abbr>), запис в декілька регістрів 16 (<abbr title="Шістнадцятковий формат числа 16">0x10</abbr>). Інші функції ігноруються.</p> <ul> <li>Для читання значень з одного або/та декількох регістрів потрібно використовувати функцію <abbr title="Шістнадцятковий формат числа 3">0x03</abbr> (Read Holding Registers) або/та <abbr title="Шістнадцятковий формат числа 4">0x04</abbr> (Read Input Registers).</li> <li>Для запису в один регістр потрібно використовувати функцію <abbr title="Шістнадцятковий формат числа 6">0x06</abbr> (Write Single Register).</li> <li>Для запису в один або декілька регістрів потрібно використовувати функцію <abbr title="Шістнадцятковий формат числа 16">0x10</abbr> (Write Multiple regiters).</li> </ul> <p>Перетворювачі передають числа <code>int16_t</code>, <code>int32_t</code>, <code>uint32_t</code> та рядки <code>string</code>. Протокол обміну ModBus <abbr title="Remote Terminal Unit">RTU</abbr>/<abbr title="Transmission Control Protocol">TCP</abbr> не має засобів позначення типу переданих даних. Відповідальність по визначенню типу лягає на програмне забезпечення верхнього рівня. ModBus <abbr title="Remote Terminal Unit">RTU</abbr>/<abbr title="Transmission Control Protocol">TCP</abbr> використовує <abbr title="Порядок від старшого до молодшого байта">big-endian</abbr> представлення для адреси та даних. Це означає, що коли передається числова величина, більша за один байт, першим надсилається старший байт. Нижче представлено приклади передачі , числа в прикладах у шістнадцятковому форматі.</p> <ul> <li>При передачі <code>int16_t</code> числа <code>0x0102</code> першим байтом буде надіслано <code>0x01</code>, другим <code>0х02</code>. </li> <li>При передачі <code>int32_t</code> числа <code>0x01020304</code> першим байтом буде надіслано <code>0x01</code>, другим <code>0х02</code>, третім <code>0х03</code>, четвертим <code>0х04</code>.</li> </ul> <p>Детальний опис регістрів ModBus <abbr title="Remote Terminal Unit">RTU</abbr>/<abbr title="Transmission Control Protocol">TCP</abbr> викладено в <a href=../modbus-registers/ >Додатку 3.</a></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Повернутись нагору </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Ostapchuk Viktor &copy; 2025 </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tracking", "navigation.sections", "toc.integrate", "navigation.top"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u0421\u043a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438 \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0429\u0435 1 \u0437\u0431\u0456\u0433 \u043d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456", "search.result.more.other": "\u0429\u0435 # \u0437\u0431\u0456\u0433\u0456\u0432 \u043d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456", "search.result.none": "\u0417\u0431\u0456\u0433\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u0417\u043d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0437\u0431\u0456\u0433", "search.result.other": "\u0417\u043d\u0430\u0439\u0434\u0435\u043d\u043e # \u0437\u0431\u0456\u0433\u0456\u0432", "search.result.placeholder": "\u0420\u043e\u0437\u043f\u043e\u0447\u043d\u0456\u0442\u044c \u043f\u0438\u0441\u0430\u0442\u0438 \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443", "search.result.term.missing": "\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u043f\u0438\u0442\u0443", "select.version": "\u041e\u0431\u0440\u0430\u0442\u0438 \u0432\u0435\u0440\u0441\u0456\u044e"}}</script> <script src=../../assets/javascripts/bundle.f1b6f286.min.js></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>